import{f as P,a as g,c as U}from"../chunks/BmDDdK99.js";import{p as L,c as f,g as a,j as K,s as I,al as d,u as o,r as m,t as S,a as B,f as q,i as T,m as M,d as O}from"../chunks/Dt8JWdLj.js";import{p as W}from"../chunks/DyIHgb7z.js";import"../chunks/BQwqAryc.js";import{o as Q}from"../chunks/CFbETh-D.js";import{i as F}from"../chunks/lZKtVI2E.js";import{e as R}from"../chunks/_TtzGgkB.js";import{i as J}from"../chunks/7HTJhx8X.js";import{p as E}from"../chunks/COWmcmHA.js";import{S as V}from"../chunks/BlQvu5Ac.js";import{a as X}from"../chunks/loPJJlYk.js";import{D as Y}from"../chunks/DUQU4s53.js";import{E as Z,F as $}from"../chunks/CHj1gjcB.js";import{g as j}from"../chunks/Ct3k1UfB.js";import{s as z}from"../chunks/B_BrIYOF.js";import{s as u}from"../chunks/DqnKDbw3.js";import{e as A}from"../chunks/BnEZ5wFl.js";import{I as tt}from"../chunks/Dpoel4qD.js";import{p as H}from"../chunks/DBKmiA9n.js";var et=P('<img class="h-16 max-w-full rounded-lg object-cover mx-auto text-center dark:text-white"/>'),rt=P('<div class="h-16 max-w-full rounded-lg"><!></div>'),at=P('<div class="h-56 md:w-56 bg-white border border-gray-200 rounded-lg shadow-xs dark:bg-gray-800 dark:border-gray-700 relative" role="button" tabindex="0"><!> <div class="w-28 mt-5 mx-auto h-16"><!></div> <div class="mt-8 max-w-full h-24 mx-1 text-center"><p class="h-1/2 w-full text-xl font-bold text-gray-900 dark:text-white overflow-hidden text-ellipsis leading-6"> </p> <p class="w-full text-sm text-gray-700 dark:text-gray-400 leading-6 line-clamp-2"> </p></div></div>');function ot(y,l){L(l,!1);let t=E(l,"product",8),v=E(l,"onClick",8),h=E(l,"onClickToEdit",8);J();var n=at(),C=f(n);{let r=K(()=>(d(t()),o(()=>t().id+"")));Z(C,{get id(){return a(r)},styleOverride:"absolute top-0 right-0",functionToDo:()=>h()(t().id)})}var x=I(C,2),G=f(x);{var e=r=>{var i=et();S(w=>{u(i,"src",(d(t()),o(()=>t().imageUrl))),u(i,"alt",w)},[()=>(d(t()),o(()=>t().name.slice(0,8)))]),g(r,i)},c=r=>{var i=rt(),w=f(i);tt(w),m(i),S(()=>u(i,"id",(d(t()),o(()=>"divNoImageSet"+t().id)))),g(r,i)};F(G,r=>{d(t()),o(()=>t().imageUrl)?r(e):r(c,!1)})}m(x);var p=I(x,2),_=f(p),N=f(_,!0);m(_);var s=I(_,2),k=f(s,!0);m(s),m(p),m(n),S(()=>{u(n,"id",(d(t()),o(()=>"productElementGallery"+t().id))),u(x,"id",(d(t()),o(()=>"imageProductGallery"+t().id))),u(p,"id",(d(t()),o(()=>"textProductGallery"+t().id))),u(_,"id",(d(t()),o(()=>"1textProductGallery"+t().id))),z(N,(d(t()),o(()=>t().name))),u(s,"id",(d(t()),o(()=>"2textProductGallery"+t().id))),z(k,(d(t()),o(()=>t().description)))}),A("click",n,()=>v()(t().id)),A("keydown",n,r=>{(r.key==="Enter"||r.key===" ")&&v()(t().id)}),g(y,n),B()}var it=P('<div class="flex justify-center"><!></div>'),dt=P('<div class="mx-auto max-w-[1600px] w-[90%]"><div class="mb-8 text-4xl text-center dark:text-white"></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-y-4 gap-y-6 mx-8 pb-4 md:justify-items-center"></div> <!></div>');function st(y,l){L(l,!1);let t=M(void 0),v=M(!1),h=E(l,"storeId",8);Q(async()=>{if(h()!==void 0)try{const e=await X(h());T(t,e.products),console.log(a(t)),H.set({inStores:!0,inProducts:!0,storeName:e.store.name,storeId:e.store.id+"",productName:void 0,productId:void 0})}catch(e){console.error("Error loading products",e),T(t,void 0),H.set({inStores:!1,inProducts:!1,storeName:void 0,storeId:void 0,productName:void 0,productId:void 0})}finally{T(v,!1)}}),J();var n=U(),C=q(n);{var x=e=>{var c=it(),p=f(c);V(p),m(c),g(e,c)},G=e=>{var c=U(),p=q(c);{var _=s=>{var k=dt(),r=f(k);r.textContent="List of products";var i=I(r,2);R(i,5,()=>a(t),D=>D.id,(D,b)=>{ot(D,{onClick:()=>{j(`/stores/${a(b).storeId}/products/${a(b).id}`)},onClickToEdit:()=>{j(`/stores/${a(b).storeId}/products/${a(b).id}/edit`)},get product(){return a(b)}})}),m(i);var w=I(i,2);$(w,{functionToDo:()=>j(`/stores/${h()}/products/new`),title:"Create a product"}),m(k),g(s,k)},N=s=>{Y(s)};F(p,s=>{a(t),o(()=>a(t)&&a(t).length>=0)?s(_):s(N,!1)},!0)}g(e,c)};F(C,e=>{a(v)?e(x):e(G,!1)})}g(y,n),B()}function Et(y,l){L(l,!0);const t=O(()=>()=>W.params.id?+W.params.id:void 0);{let v=O(()=>a(t)());st(y,{get storeId(){return a(v)}})}B()}export{Et as component};
